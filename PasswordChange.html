<html>

<head>
<title>Introduce Workers</title>
    <link rel="StyleSheet" type="text/css" href="pattern.css">
    <style type="text/css">
            input:required:invalid, input:focus:invalid {
            background-image: url(invalid.png);
            background-position: right top;
            background-repeat: no-repeat;
            }
            
            input:required:valid {
            background-image: url(valid.png);
            background-position: right top;
            background-repeat: no-repeat;
            }
        </style>
    <script type="text/javascript">

            function checkPassword(str)
            {
            var re = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/;
            return re.test(str);
            }
            
            function VerificarContra(){
                var xmlhttp =new XMLHttpRequest();
                xmlhttp.onreadystatechange=function() {
                    if (xmlhttp.readyState==4 && xmlhttp.status==200) {
                        document.getElementById("pass_actual").innerHTML=xmlhttp.responseText;
                    }
                };
                xmlhttp.open('GET','PasswordChange',true);
                xmlhttp.send();
            }

            function checkForm(form)
            {
            if(form.usuario.value == "") {
              alert("Error: Username cannot be blank!");
              form.usuario.focus();
              return false;
            }
            re = /^\w+$/;
            if(!re.test(form.usuario.value)) {
              alert("Error: Username must contain only letters, numbers and underscores!");
              form.usuario.focus();
              return false;
            }
            if(form.pass_nueva1.value != "" && form.pass_nueva1.value == form.pass_nueva2.value) {
              if(!checkPassword(form.pass_nueva1.value)) {
                alert("The password you have entered is not valid!");
                form.pass_nueva1.focus();
                return false;
              }
            } else {
              alert("Error: Please check that you've entered and confirmed your password!");
              form.pass_nueva1.focus();
              return false;
            }
            return true;
            }
        </script>
</head>

<body bgcolor="#FFFFFF" text="#631818">

    <div class="header">
        <img align="left" src="Logo ERP Tecnun.png">
        <h1 align="center">CHANGE THE PASSWORD</h1>
    </div>
    <ul class="navbar">
        <li class="dropdown">
            <a class="dropbtn"><font face="Arial">Menu</font></a>
            <div class="dropdown-content">
                <a class="active" href="Pedido.html">Orders</a>
                <a href="customers.html">Customers</a>
                <a href="producttxt.html">Products</a>
                <a href="accounting.html">Accounting</a>
                <a href="bills.html">Bills</a>
            </div>
        </li>
    </ul>

    <!-- <form method="GET" action="PasswordChange" onsubmit="return checkForm(this);" > -->
        <BR>
        <p align="center">
        <TABLE BORDER="0">                
            <TR>
                <TD><font size="3">Username</font></TD>
                <TD><input type="input" name="usuario" id="usuario"></TD>
            </TR>
            <TR><div id="id2">
                <TD><font size="3">Actual Password</font></TD>
                <TD><input type="password" name="pass_actual" id="pass_actual" ></TD>
            </div></TR>
            <TR>
                <TD><font size="3">New Password</font></TD>
                <TD><input title="Password must contain at least 6 characters, including UPPER/lowercase and numbers."type="password" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" name="pass_nueva1" id="pass_nueva1"></TD>
            </TR>
            <TR>
                <TD><font size="3">Repeat Password</font></TD>
                <TD><input title="Password must contain at least 6 characters, including UPPER/lowercase and numbers."type="password" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" name="pass_nueva2" id="pass_nueva2"></TD>
            </TR>
        </TABLE>
        <p align="center">
        <input type="button" value="Submit" onclick="VerificarContra()" >&nbsp;&nbsp;&nbsp;
        <input type="reset" value="Delete"></p>
        </p>

    <!-- </form> -->
    <p align="center">&nbsp;</p>



</body>

</html>